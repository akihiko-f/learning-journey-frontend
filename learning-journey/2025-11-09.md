# Day 24 - 2025/11/09

## 学んだこと

### 1. 複数の入力フィールドによる状態管理
- 複数の入力値（種類、カテゴリ、金額、説明、日付）をそれぞれ個別のstateで管理
- 各入力フィールドに対応したuseStateを使用
- フォームの各要素に適切なonChangeハンドラを設定

### 2. 条件付きレンダリングの応用
- 支出/収入の種類に応じてカテゴリの選択肢を動的に変更
- 三項演算子を使った配列の切り替え: `type === 'expense' ? expenseCategories : incomeCategories`
- ユーザーの選択に応じてUIを動的に更新

### 3. inputタグの各種type属性
- `type="number"`: 数値入力（金額）
- `type="text"`: テキスト入力（説明）
- `type="date"`: 日付選択UI
- 各typeに応じたブラウザ標準のUIが表示される

### 4. selectタグとmapメソッドの組み合わせ
- 配列をmapして動的にoptionタグを生成
- key属性を設定してReactに要素を識別させる
- カテゴリのリストを配列で定義し、それをUIに展開

## 実装した内容

### お題5: 簡易家計簿アプリ（初期実装）

現在実装した機能:
- ✅ 入力フォームの作成（種類、カテゴリ、金額、説明、日付）
- ✅ 支出/収入の種類選択
- ✅ 種類に応じたカテゴリの動的切り替え
- ✅ 数値・日付入力フィールド
- ✅ transactionsのstate管理（空配列で初期化）

次回実装予定:
- [ ] 追加ボタンのクリック処理
- [ ] 取引データの保存
- [ ] 取引履歴の表示
- [ ] 合計金額の計算
- [ ] LocalStorageでの永続化

使用した技術:
- React (useState)
- JavaScript配列のmapメソッド
- 条件付きレンダリング（三項演算子）
- HTML form要素（input, select）

## 学習メモ

### 支出/収入に応じたカテゴリ切り替えの実装

```jsx
const expenseCategories = ['食費', '交通費', '娯楽', '光熱費', '通信費', 'その他']
const incomeCategories = ['給与', '副業', 'お小遣い', 'その他']

// selectタグ内で条件分岐
<select value={category} onChange={(e) => setCategory(e.target.value)}>
  {(type === 'expense' ? expenseCategories : incomeCategories).map(cat => (
    <option key={cat} value={cat}>{cat}</option>
  ))}
</select>
```

**ポイント:**
- 配列を2つ定義（expenseCategories、incomeCategories）
- typeの値に応じて使用する配列を切り替え
- mapメソッドで配列を`<option>`タグに変換
- key属性はcatの値（カテゴリ名）を使用

### 複数のstateによるフォーム管理

```jsx
const [type, setType] = useState('expense')
const [category, setCategory] = useState('食費')
const [amount, setAmount] = useState('')
const [description, setDescription] = useState('')
const [date, setDate] = useState('')
```

**なぜ複数のstateに分けるのか:**
- 各入力フィールドが独立して変更される
- それぞれの値を個別に管理した方がわかりやすい
- 後で各値を使って取引オブジェクトを作成しやすい

### inputタグのtype属性の使い分け

```jsx
// 数値入力
<input
  type="number"
  value={amount}
  onChange={(e) => setAmount(e.target.value)}
  placeholder="0"
/>

// テキスト入力
<input
  type="text"
  value={description}
  onChange={(e) => setDescription(e.target.value)}
/>

// 日付入力
<input
  type="date"
  value={date}
  onChange={(e) => setDate(e.target.value)}
/>
```

**各typeの特徴:**
- `type="number"`:
  - スピナー（上下矢印）が表示される
  - 数値以外の入力を制限
  - モバイルでは数値キーボードが表示される

- `type="text"`:
  - 通常のテキスト入力
  - 任意の文字列を入力可能

- `type="date"`:
  - カレンダーUIが表示される（ブラウザ標準）
  - 日付形式（YYYY-MM-DD）で値が取得される
  - ユーザーが手入力する必要がない

### 家計簿アプリのデータ構造（予定）

次回実装する取引データのイメージ:

```jsx
const transaction = {
  id: Date.now(),                    // 一意のID
  type: 'expense',                   // 'expense' または 'income'
  category: '食費',                  // カテゴリ
  amount: 1500,                      // 金額（数値）
  description: 'スーパーで買い物',    // 説明
  date: '2025-11-09'                 // 日付
}
```

## 復習ポイント

### これまでに学んだReactの概念（再確認）
1. **useState**: 複数のstateを使ってフォームデータを管理
2. **イベントハンドラ**: onChange、onClickなど
3. **条件付きレンダリング**: 三項演算子で配列を切り替え
4. **配列操作**: mapメソッドでUIを動的生成
5. **key属性**: リストレンダリング時に必須

### 家計簿アプリで実践する予定の機能
- **CRUD操作**: Create（追加）、Read（表示）、Delete（削除）
- **データ集計**: 収入・支出の合計計算
- **フィルタリング**: 月ごとの表示、カテゴリ別の表示
- **LocalStorage**: データの永続化

## 次のステップ

- [ ] 追加ボタンのクリック処理を実装
- [ ] transactionsステートに取引データを追加
- [ ] 取引履歴を表示（mapで一覧表示）
- [ ] 収入・支出の合計金額を計算
- [ ] LocalStorageでデータを保存
- [ ] 削除機能を追加
- [ ] 月ごとの表示切り替え（オプション）
